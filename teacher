#include <iostream>
#include <string>
#include <fstream>
#include <map>
using namespace std;

class temp {
public:
	string time;
	int flag;
};
class teacher {
	map<string,temp*>app;
public:
	teacher() {};
	void setup() {
		int i;
		cout << "1.Monday                 2.Tuesday" << endl;
		cout << "3.Wednesday              4.Thursday" << endl;
		cout << "5.Friday                 6.Saturday" << endl;
		cout << "7.Sunday                 0.Exit setup" << endl;
		do {
			cin >> i;
			if (i < 0 || i>7) i = 0;
			switch (i)
			{
			case 1: setupdate("Monday");
				break;
			case 2: setupdate("Tuesday");
				break;
			case 3:setupdate("Wednesday");
				break;
			case 4:setupdate("Thursday");
				break;
			case 5:setupdate("Friday");
				break;
			case 6:setupdate("Saturday");
				break;
			case 7:setupdate("Sunday");
				break;
			case 0:
				break;
			}
		} while (i != 0);
	cout << "end up !" << endl;
	}
	void setupdate(const string& weekday) {
		string a;
		cout << weekday << endl;
		cout << "Please input the time for " << weekday << endl;
		cin >> a;
		temp* tp = new temp();
		tp->time = a;
		tp->flag = 0;
		app[weekday] = tp;
	}
	void display() {
		for (map<string, temp*>::iterator it = app.begin(); it != app.end(); it++) {
			cout << it->first << "   " << (it->second)->time;
			if ((it->second)->flag) {
						cout<< "     " << "booking is not available!" << endl;
					}
					else {
						cout<<"      "<<"booking is available!" << endl;
					}
		}
	}
	void readin() {
		ofstream out;
		out.open("outfile.dat");
		if (!out) {
			cout << "file open fail!!" << endl;
		}
		for (map<string, temp*>::iterator it = app.begin(); it != app.end(); it++) {
			out << it->first << "\t" << (it->second)->time << "\t" << (it->second)->flag<< "\n";
		}
	}

};

int main() {
	teacher a;
	a.setup();
	a.display();
	a.readin();
	return 0;
}
